<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title> Mexican CURP and RFC Test </title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href='http://fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png" />

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row">
      <div class="one-half column" style="margin-top: 25%">
        <h4> Mexican Curp and RFC Test </h4>
        <form class="pure-form">
            <fieldset>
              <div>
                <label for="first_name"> Nombre(s) </label>
                <input type="text" name="first_name" id="first_name" />
              </div>
              <div>
                <label for="father_surname"> Apellido paterno </label>
                <input type="text" name="father_surname" id="father_surname" />
              </div>
              <div>
              <label for="mother_surname"> Apellido materno </label>  
              <input type="text" name="mother_surname" id="mother_surname" />
              </div>
              <div>
                <label> Fecha de nacimiento(dd/mm/aaaa)</label>
                <input type="text" name="born_date" id="born_date" />
              </div>
              <div id="born_state_wrapper">
                <label for="born_state"> Estado de nacimiento </label>
                <select name="born_state" id="born_state">
                  <option value="" selected>Selecciona el estado de nacimiento</option>
                </select>
              </div>
              <div>
                <label> Sexo </label>
                <select name="gender" id="gender">
                  <option value="0"> Mujer </option>
                  <option value="1"> Hombre </option>
                </select>
              </div>
              <button class="button button-primary" id="calculate_button"> Calcular </button>
            </fieldset>
        </form>
      </div>
      <div class="one-half column" style="margin-top: 25%">
        <h3>Resultados </h3>
        <div>
          <label for="rfc-result"> RFC </label>
          <input type="text" id="rfc-result" disabled="disbaled" class="u-full-width"/>
        </div>
        <div>
          <label> CURP </label>
          <input type="text" id="curp-result" disabled="disbaled" class="u-full-width"/>
        </div>

      </div>
    </div>
  </div>
<script src="src/rfc.js"></script>
<script>
  mxk.fillBornStateSelect("born_state");
  document.getElementById('calculate_button').addEventListener('click', function(event){
    event.preventDefault()
    event.stopPropagation()
    name =  document.getElementById("first_name").value;
    father_surname =  document.getElementById("father_surname").value;
    mother_surname =  document.getElementById("mother_surname").value;
    born_date =  document.getElementById("born_date").value;
    born_state =  document.getElementById("born_state").value;
    gender =  document.getElementById("gender").value;
    
    rfc_field = document.getElementById("rfc-result")
    curp_field = document.getElementById("curp-result")
    born_date = born_date.split('/')
    rfc_field.value = mxk.getRFC(name, father_surname, mother_surname, born_date[0], born_date[1], born_date[2], born_state, gender);
    curp_field.value = mxk.getCURP(name, father_surname, mother_surname, born_date[0], born_date[1], born_date[2], born_state, gender);
  });
</script>
<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>